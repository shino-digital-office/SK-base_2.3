/* =====================================
   Cards -- Basic
   基本のカードグリッドレイアウト
===================================== */

.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--cards-gap, 20px);
  justify-items: center; /* ← 中のカードだけを中央寄せ */
}

/* 縦並び */
.cards--col {
  grid-template-columns: 1fr;
}

/* 2カラム */
.cards--2 {
  grid-template-columns: repeat(2, 1fr);
}

/* 3カラム */
.cards--3 {
  grid-template-columns: repeat(3, 1fr);
}

/* =====================================
   Cards -- Mixed
   1段目：2カラム / 2段目：3カラム（PC想定）
===================================== */
.cards--mixed {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(6, 1fr); // 6分割ベース

  /* 1段目：2枚（1/2幅） */
  > :nth-child(-n + 2) {
    grid-column: span 3; // 3 / 6 = 1/2
  }

  /* 2段目以降：3枚（1/3幅） */
  > :nth-child(n + 3) {
    grid-column: span 2; // 2 / 6 = 1/3
  }
}

/* PCから切り替え */
@media (min-width: 768px) {
  .cards--pc2 {
    grid-template-columns: repeat(2, 1fr);
  }
  .cards--pc3 {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* =====================================
   Cards -- Last Child
   最後のカードを中央寄せ（SP想定）
===================================== */

.cards--last-child {
  display: grid;
  grid-template-columns: repeat(2, 1fr); // SP：2カラム
  gap: 16px;
  > :last-child:nth-child(2n + 1) {
    grid-column: 1 / span 2; // 見た目中央
    max-width: 50%;
    justify-self: center;
  }
}

/* =====================================
   Card -- Base
   カード共通ベーススタイル
===================================== */
.card {
  position: relative;
  overflow: hidden;
  border-radius: 20px; //任意
  width: 100%; //任意？

  p,
  h3 {
    margin: 0;
  }

  /* 背景カード用レイヤー（構造だけ） */
  &__bg {
    position: absolute;
    inset: 0;
    z-index: -1;
    background: center / cover no-repeat;
  }

  &__inner {
    position: relative;
    z-index: 2;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
  }

  /* split 構造 */
  &--split {
    display: flex;
    align-items: center;
  }

  &__img {
    display: block;
    aspect-ratio: 133 / 101;
    background: center / cover no-repeat;
    flex-shrink: 0;
  }

  &__content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
}

/* =====================================
   Card -- Cover (全面画像＋テキスト)
   画像全面に背景を敷き、テキストを上に重ねるカード
===================================== */
.card--cover {
  position: relative;
  overflow: hidden;
  border-radius: 20px; // 任意で変更可能
  width: 100%; // 親幅に合わせる場合
  max-width: 335px; // カードの最大幅
  aspect-ratio: 335 / 210; // 高さは自動計算

  /* テキストマージンリセット */
  p,
  h3 {
    margin: 0;
  }

  /* 背景カード用レイヤー */
  .card__bg {
    position: absolute;
    inset: 0;
    z-index: -1;
    background-position: center;
    background-size: cover; // 画像をカード全体にカバー
    background-repeat: no-repeat;

    /* 半透明スクリーンオーバーレイ */
    &::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.2); // 黒の半透明スクリーン
      z-index: 1; // テキストより下、背景より上
    }
  }

  /* テキストレイヤー */
  .card__inner--overlay {
    position: relative;
    z-index: 2;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center; // 横中央揃え
    text-align: center;
    padding: 1rem; // 内側余白（任意）
    color: #fff; //任意。
  }
}

/* =====================================
   Card -- Stack (上下型カード)
   上下に画像とテキストが積まれたシンプルカード
===================================== */
.card--stack {
  display: flex;
  flex-direction: column;
  border: 1px solid #000; //任意
  border-radius: 16px; // 任意
  overflow: hidden;
  width: 100%;
  max-width: 335px;
  background: #fff; // 背景色

  /* 上段の画像 */
  .card__media {
    width: 100%;
    display: block;

    img {
      width: 100%;
      height: auto;
      display: block;
    }
  }

  /* 下段のテキスト */
  .card__inner {
    padding: 1rem; // 内側余白
    text-align: center;

    h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1.25rem;
    }

    p {
      margin: 0;
      font-size: 1rem;
      color: #666;
    }
  }
}

/* =====================================
   Card -- Split (左右型カード)
   左右に画像とテキストが並ぶUI型カード
===================================== */
.card--split {
  display: flex;
  align-items: stretch;
  width: 100%;
  max-width: 600px; // 任意
  border: 1px solid #000; //任意
  background: #fff;
  border-radius: 16px;
  overflow: hidden;

  /* 左側画像 */
  .card__media {
    flex: 0 0 40%; // 左40%
    position: relative;

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
  }

  /* 右側テキスト */
  .card__inner {
    flex: 1;
    padding: 1rem;

    h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1.25rem;
    }

    p {
      margin: 0;
      font-size: 1rem;
      color: #666;
    }
  }
}

/* =====================================
   Section -- Mixed Cards
   cards--mixed 用のスタイル調整
===================================== */

.section--mixed {
  .card--stack {
    display: flex;
    flex-direction: column;
    border: 1px solid #000; //任意
    border-radius: 16px; // 任意
    overflow: hidden;
    width: 100%;
    max-width: none; // 335px 削除
    background: #fff; // 背景色

    /* 上段の画像 */
    .card__media {
      width: 100%;
      display: block;

      img {
        width: 100%;
        height: auto;
        display: block;
      }
    }

    /* 下段のテキスト */
    .card__inner {
      padding: 1rem; // 内側余白
      text-align: center;

      h3 {
        margin: 0 0 0.5rem 0;
        font-size: 1.25rem;
      }

      p {
        margin: 0;
        font-size: 1rem;
        color: #666;
      }
    }
  }
}
